"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[814],{27770:function(B,f,r){var E=r(93236),l=r(62086),v=function(P){var b=P.title;return(0,l.jsx)("h1",{className:"font-bold mb-2 text-3xl text-foreground",children:b})};f.Z=v},83150:function(B,f,r){r.r(f),r.d(f,{default:function(){return j}});var E=r(26068),l=r.n(E),v=r(90228),m=r.n(v),P=r(87999),b=r.n(P),I=r(48305),U=r.n(I),S=r(93236),T=r(27770),g=r(66992),W=r(59777),N=r(68037);function F(){return A.apply(this,arguments)}function A(){return A=b()(m()().mark(function t(){var o;return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,N.ZP.get(N.WD);case 2:return o=u.sent,u.abrupt("return",o.data);case 4:case"end":return u.stop()}},t)})),A.apply(this,arguments)}function K(t){return M.apply(this,arguments)}function M(){return M=b()(m()().mark(function t(o){var a;return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,N.ZP.post(N.sk,o);case 2:return a=d.sent,d.abrupt("return",a.data);case 4:case"end":return d.stop()}},t)})),M.apply(this,arguments)}var y=(0,W.Ue)(function(t){return{data:[],fetchAll:function(){F().then(function(a){var u=a.data;t(function(d){return l()(l()({},d),{},{data:u})})})},add:function(){var o=b()(m()().mark(function u(d){return m()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,K(d);case 2:case"end":return C.stop()}},u)}));function a(u){return o.apply(this,arguments)}return a}()}});y.getState().fetchAll();var $=r(84417),k=r(16513),e=r(62086);function x(t){return(0,e.jsx)(e.Fragment,{children:t&&(0,e.jsx)("div",{className:"label",children:(0,e.jsx)("div",{className:"label-text-alt",children:t})})})}function h(t){return t?"input-error":""}var D=function(o){var a=o.link;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"card shadow bg-base-100",children:[(0,e.jsx)("figure",{className:"aspect-[1/1] ",children:(0,e.jsx)("img",{alt:a.name,src:a.logo,className:"aspect-[1/1] object-cover"})}),(0,e.jsxs)("div",{className:"card-body",children:[(0,e.jsx)("h2",{className:"card-title",children:(0,e.jsx)("a",{href:a.url,target:"_blank",rel:"noreferrer",className:"link",children:a.name})}),(0,e.jsx)("p",{children:a.intro}),(0,e.jsx)("div",{className:"card-actions justify-end"})]})]})})},p=D;function j(){var t=S.useState(!1),o=U()(t,2),a=o[0],u=o[1],d=S.useState(!1),Z=U()(d,2),C=Z[0],z=Z[1],L=(0,g.cI)(),O=L.register,J=L.handleSubmit,R=L.control,Q=L.formState,V=Q.errors,X=Q.disabled,Y=L.reset,w=y((0,$.N)(function(i){return[i.data,i.add]})),G=U()(w,2),H=G[0],q=G[1],ee=function(){var i=b()(m()().mark(function s(_){return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return z(!0),c.prev=1,c.next=4,q(_);case 4:c.next=8;break;case 6:c.prev=6,c.t0=c.catch(1);case 8:z(!1);case 9:case"end":return c.stop()}},s,null,[[1,6]])}));return function(_){return i.apply(this,arguments)}}();return(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,e.jsx)(T.Z,{title:"\u53CB\u94FE"}),(0,e.jsx)("button",{className:"btn",color:"primary",type:"button",onClick:function(){return(0,k.h)("request-link")},children:"\u7533\u8BF7\u53CB\u94FE"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-5",children:[H.map(function(i){return(0,e.jsx)(p,{link:i},i.id)}),H.length===0&&(0,e.jsx)("span",{className:"text-default-500 text-sm",children:"\u6682\u65E0\u53CB\u94FE"})]}),(0,e.jsx)("dialog",{className:"modal",id:"request-link",children:(0,e.jsxs)("div",{className:"modal-box",children:[(0,e.jsx)("h3",{className:"font-bold text-lg mb-5",children:"\u7533\u8BF7\u53CB\u94FE"}),(0,e.jsxs)("form",{onSubmit:J(ee),className:"flex flex-col justify-center gap-4",children:[(0,e.jsx)(g.Qr,{control:R,render:function(s){var _=s.field,n=s.fieldState.error;return(0,e.jsxs)("label",{className:"form-control",children:[(0,e.jsx)("input",l()(l()({},_),{},{className:"input w-full input-bordered ".concat(h(n==null?void 0:n.message)),autoFocus:!0,placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"},O("name",{required:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}))),x(n==null?void 0:n.message)]})},name:"name"}),(0,e.jsx)(g.Qr,{control:R,render:function(s){var _,n=s.field,c=(_=V.url)===null||_===void 0?void 0:_.message;return(0,e.jsxs)("label",{className:"form-control",children:[(0,e.jsx)("input",l()(l()({className:"input w-full input-bordered ".concat(h(c))},n),{},{type:"url",placeholder:"\u8BF7\u8F93\u5165URL"},O("url",{required:"\u8BF7\u8F93\u5165URL"}))),x(c)]})},name:"url",rules:{required:"\u8BF7\u8F93\u5165\u8BBF\u95EEURL",pattern:{value:/^(ftp|http|https):\/\/[^ "]+$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684URL"}}}),(0,e.jsx)(g.Qr,{control:R,render:function(s){var _=s.field,n=s.fieldState.error;return(0,e.jsxs)("label",{className:"form-control",children:[(0,e.jsx)("input",l()(l()({className:"input w-full input-bordered ".concat(h(n==null?void 0:n.message))},_),{},{placeholder:"\u8BF7\u8F93\u5165LOGO\u76F4\u94FE"},O("logo",{required:"\u8BF7\u8F93\u5165logo"}))),x(n==null?void 0:n.message)]})},name:"logo",rules:{required:"\u8BF7\u8F93\u5165\u7AD9\u70B9logo"}}),(0,e.jsx)("textarea",l()({className:"textarea w-full textarea-bordered",placeholder:"(\u53EF\u9009)\u8F93\u5165\u7F51\u7AD9\u4ECB\u7ECD"},O("intro"))),(0,e.jsx)("div",{className:"form-control",children:(0,e.jsxs)("label",{className:"label cursor-pointer",children:[(0,e.jsx)("span",{className:"label-text",children:"\u63A5\u6536\u5BA1\u6838\u901A\u8FC7\u901A\u77E5"}),(0,e.jsx)("input",{type:"checkbox",className:"toggle",checked:a,onChange:function(s){return u(s.target.checked)}})]})}),a&&(0,e.jsx)(g.Qr,{shouldUnregister:!a,control:R,render:function(s){var _=s.field,n=s.fieldState.error;return(0,e.jsxs)("label",{className:"form-control",children:[(0,e.jsx)("input",l()(l()({className:"input w-full input-bordered ".concat(h(n==null?void 0:n.message)),type:"email",placeholder:"\u8F93\u5165\u63A5\u6536\u901A\u77E5\u90AE\u7BB1"},_),O("email",{required:a?"\u8BF7\u8F93\u5165\u90AE\u7BB1":void 0}))),x(n==null?void 0:n.message)]})},name:"email",rules:{required:a}}),(0,e.jsxs)("div",{className:"modal-action",children:[(0,e.jsxs)("button",{disabled:X,type:"submit",className:"btn btn-primary",children:[" ",C?(0,e.jsx)("span",{className:"loading loading-spinner"}):(0,e.jsx)(e.Fragment,{children:"\u63D0\u4EA4\u7533\u8BF7"})]}),(0,e.jsx)("form",{method:"dialog",children:(0,e.jsx)("button",{className:"btn",onClick:function(){return Y()},children:"\u53D6\u6D88"})})]})]})]})})]})}},68037:function(B,f,r){r.d(f,{E7:function(){return $},HN:function(){return A},WD:function(){return M},aL:function(){return k},rj:function(){return K},sk:function(){return y}});var E=r(25298),l=r.n(E),v=r(17069),m=r.n(v),P=r(62657),b=r.n(P),I=r(21742),U=r.n(I),S=r(83136),T=r.n(S),g=r(53318),W=r.n(g),N=r(84750),F="https://api.itbug.shop",A="/api/blog/all",K="/api/blog/statistics",M="/api/public/friend/all",y="/api/friend/save",$="/api/blog/getTextAll",k="/api/blog/projects",e=function(h){U()(p,h);var D=T()(p);function p(j){var t;return l()(this,p),t=D.call(this,j),t.name=t.constructor.name,Error.captureStackTrace(b()(t),t.constructor),t}return m()(p,[{key:"toString",value:function(){return this.message}}]),p}(W()(Error)),x=N.Z.create({baseURL:F,timeout:5e3});x.interceptors.response.use(function(h){var D=h.data,p=D.state,j=D.message;if(p!==200&&j!==void 0)throw new e(j);return h},function(h){return Promise.reject(h)}),f.ZP=x},16513:function(B,f,r){r.d(f,{h:function(){return E}});function E(l){var v=document.getElementById(l);v!==null&&v.showModal()}}}]);
